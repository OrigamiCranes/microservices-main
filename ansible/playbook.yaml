- hosts: localhost
  connection: local
  become: true
  roles:
  - docker

- hosts: manager
  become: true
  roles:
  - docker
  - manager

- hosts: worker
  become: true
  roles:
  - docker
  - role: worker
    vars:
      manager: manager

- hosts: nginx
  become: true
  roles:
  - docker
  - webserver
